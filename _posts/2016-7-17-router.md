---
layout: post
title:  "Android路由跳转"
date:   2015-07-22
desc: "Android 端路由跳转逻辑的实现"
keywords: "Android,Route"
categories: [Android]
tags: [route]
icon: fa-linux
---
#Android 路由跳转（一）

首先在文章开始前我要和你们介绍下什么是url。

众所周知一段url是由一个scheme一段host加上一个path（可以为空）最后在组合上n（可以是0）个params参数构成的。

然后我们来介绍下什么是路由，通俗的讲就是指路的人，url就是我们现实社会中的地址概念，然后代码根据你这段地址去寻找到实际的真实住所。

然后问题来了，用url做路由有什么好处。我这里只从一个移动开发人员的角度去解释这个问题。正常情况下移动端经常有刚性需求就是我们要从一个网页的页面跳转到一个native的页面上。这个时候如何确保IOS Android 移动站三端通过最便捷的方式去实现呢。

所以我们最简单的方式就是移动站的url作为我们的唯一标识符，通过这个标识符去指定到我们一个native界面上。那么我们都要做些什么呢。第一我们可能要对scheme做一个鉴别，他是不是有效的，或者说是不是我们前后端约定好的特殊的scheme，当然这个不一定是必须操作。其次我们需要判断当前的host是不是有效，之后我们自己host下面的才是有效域名。然后呢我们应该是鉴别path，我会在下文中重点介绍。最后我们需要把params当做参数传递到下一个界面上。

现在我们可以重点介绍下如何判断path。
```
path/:id/path/...
```
上述是一段我认为非常常见的path，其中path我们可以认为是文件夹的名字，而其中的id是不确定名字的一个文件夹名字，之后是他的子目录，我们需要做的是把这样一段path对应到我们的一个本地界面上。我先介绍下我们的项目是如何处理这些的，我们会先根据/去切割字符串，然后我们会把所有的字符串去做比较，特殊的可变动字段我们采取:来鉴别。然后和传入的url中的path一一比对，当然啦，长度不一样直接就可以continue了。

下期我会更详细的介绍路由跳转中的一些稍微复杂的逻辑。

下面是我的github 路由跳转项目。

[AndroidRouter](https://github.com/Leifzhang/AndroidRouter)
